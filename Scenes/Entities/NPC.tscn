[gd_scene load_steps=9 format=3 uid="uid://cic1yiqgeesod"]

[ext_resource type="Script" uid="uid://dv132uidklika" path="res://Scripts/npc.gd" id="1_fo5tq"]
[ext_resource type="Resource" uid="uid://dnshr6f4nrqjl" path="res://Resources/NPC/LeonMuffle.tres" id="2_xs5w8"]
[ext_resource type="Texture2D" uid="uid://vre36r1calvu" path="res://Assets/Sprites/Muffle_clean.png" id="3_4a2w1"]
[ext_resource type="PackedScene" uid="uid://b8idyvf8u7ym" path="res://Scenes/speech.tscn" id="4_7fgga"]
[ext_resource type="AudioStream" uid="uid://t0l3wy1ht8uq" path="res://Resources/Sons/male_crying.mp3" id="5_yb3dg"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tdvfm"]
radius = 0.125

[sub_resource type="ViewportTexture" id="ViewportTexture_7fgga"]
viewport_path = NodePath("SubViewport")

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tdvfm"]
radius = 1.2788086

[node name="Npc" type="StaticBody3D"]
script = ExtResource("1_fo5tq")
data = ExtResource("2_xs5w8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0910784, 0)
shape = SubResource("CapsuleShape3D_tdvfm")

[node name="LookAtMe" type="Node3D" parent="CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.86817527, 0)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(0.07, 0, 0, 0, 0.07, 0, 0, 0, 0.07, 0, 1.0883192, 0)
billboard = 2
texture = ExtResource("3_4a2w1")

[node name="Speech" parent="Sprite3D" instance=ExtResource("4_7fgga")]
transform = Transform3D(6.976, 0, 0, 0, 6.976, 0, 0, 0, 2.564, 0.1016174, 14.539932, -0.0711986)
centered = false
texture = SubResource("ViewportTexture_7fgga")

[node name="InteractionArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.079273, 0)
collision_layer = 4
collision_mask = 4

[node name="InteractionCollision" type="CollisionShape3D" parent="InteractionArea"]
shape = SubResource("CylinderShape3D_tdvfm")

[node name="male_crying" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_yb3dg")
volume_db = -5.0

[connection signal="body_entered" from="InteractionArea" to="." method="_on_interaction_area_body_entered"]
